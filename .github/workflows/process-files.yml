name: Process Tar Files

on:
  push:
    branches:
      - '*'  # Adjust this to the branch you want to trigger the workflow

jobs:
  process:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Set up JQ and Utilities
        run: sudo apt-get install -y jq tar gzip

      - name: Run Shell Script
        run: |
          chmod +x process_tar_files.sh
          ./process_tar_files.sh

      - name: List Processed Files
        run: |
          echo "Listing files in the root directory:"
          ls -l
      - name: Upload Processed Files
        uses: actions/upload-artifact@v3
        with:
          name: processed-tar-files
          path: test_processed.tar.gz 